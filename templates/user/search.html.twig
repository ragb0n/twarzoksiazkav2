
{% extends 'base.html.twig' %}

{% block body %} 
<div class="w-4/5">
    <div class="w-full">
        <div class="text-white drop-shadow-md text-center italic font-extrabold text-3xl">
            Znajdź swoich znajomych!
        </div>
    </div>
    {{ form_start(form, {'attr': {'class': 'mt-4 mb-4'}}) }}
    <div class="w-full">
        {{ form_row(form.searchKeyword) }}
        <button type="submit" class="h-10 w-full py-2 px-6 bg-blue-700 text-white font-extrabold rounded-b hover:bg-blue-400 focus:outline-none">
            Szukaj!
        </button>
    </div>
    {{ form_end(form) }}
    <div class="flex flex-wrap items-stretch justify-between w-full">
    {% for user in users %}
        <div class="pb-10 bg-white rounded-md grow w-48 mx-4 mb-10 hover:drop-shadow-2xl transition duration-150">
            <a href="/user/{{ user.0.id }}">
                <div class="w-full pt-5 pb-5">
                    <img class="w-20 h-20 rounded-full m-auto" src="{{ asset('build/images/piesek.cb296c0f.jpg') }}">
                </div>
                <div class="text-center font-bold">
                    {{ user.0.firstName }}
                </div>
                <div class="text-center font-bold">
                    {{ user.0.lastName }}
                </div>
            </a>
            {# Osoba nie w znajomych, można wysłać zaproszenie  #}
            {% if user.friendshipStatus is null %}
            <div class="w-full">
                <div class=" w-1/2 m-auto mt-4 rounded-md">
                    <a href="">
                        <div title="Wyślij zaproszenie do znajomych" class="bg-gray-200 text-center py-2 hover:brightness-50">
                            &#128100;&#10133;
                        </div>
                    </a>
                </div>
            </div>
            {% endif %}
            {# Osoba w znajonmych, można usunąć ze znajomych  #}
            {% if user.friendshipStatus == 1 %}
             <div class="w-full">
                <div class=" w-1/2 m-auto mt-4 flex rounded-md">
                    <div class="w-1/2">
                        <div title="Jesteście znajomymi" class="bg-gray-200 w-full text-center py-2">
                            &#128101;&#9989;
                        </div>
                    </div>
                    <a href="" class="w-1/2">
                        <div title="Usuń znajomego" class="bg-red-200 w-full text-center py-2 hover:brightness-50">
                            &#128101;&#10060;
                        </div>
                    </a>
                </div>
            </div>
            {% endif %}
            {# Osoba nie w znajomych, zaproszenie wysłane, oczekiwanie na akceptację, można anulować zaproszenie #}
            {% if user.friendshipStatus == 2 %}
             <div class="w-full">
                <div class=" w-1/2 m-auto mt-4 flex rounded-md">
                    <div class="w-1/2">
                        <div title="Zaproszenie wysłane - oczekiwanie na akceptację" class="bg-gray-200 w-full text-center py-2">
                            &#128100;&#128337;
                        </div>
                    </div>
                    <a href="" class="w-1/2">
                        <div title="Anuluj zaproszenie" class="bg-red-200 w-full text-center py-2 hover:brightness-50">
                            &#128100;&#128683;
                        </div>
                    </a>
                </div>
            </div>
            {% endif %}
            {# Osoba wysłała zaproszenie, odrzuć je lub zaakceptuj #}
            {% if user.friendshipStatus == 3 %}
             <div class="w-full">
                <div class=" w-1/2 m-auto mt-4 flex rounded-md">
                    <a href="" class="w-1/2">
                        <div title="Oczekujące zaproszenie - zaakceptuj" class="bg-green-200 w-full text-center py-2">
                           &#9993;&#9989;
                        </div>
                    </a>
                    <a href="" class="w-1/2">
                        <div title="Oczekujące zaproszenie - odrzuć" class="bg-red-200 w-full text-center py-2 hover:brightness-50">
                            &#9993;&#10060;
                        </div>
                    </a>
                </div>
            </div>
            {% endif %}
        </div>
        {% else %}
            Niestety! Nikogo takiego nie znaleziono &#x1F614
        {% endfor %}
    </div>
</div>
{% endblock %}
